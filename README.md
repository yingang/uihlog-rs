# uihlog.exe reloaded in Rust

A utility to parse log files generated by UIH imaging devices.

## Background

### Why parsing?

* The raw log files are organized in time order, so it's not easy to see through the event stream of any specific logging source.
* Non-character delimiters have been used in the raw log files, which some human readers like me don't like to see at all.
* Unix timestamp has been used in the raw log files, which, I suppose, all human reader should not be fond of.

### Why not use the already existed uihlog.exe (since 2012)?

* The parsed result is not very well-organized, so it's not friendly to human readers and even laptop monitors - Important information like log description normally shows off the screen and horizontal scroll bar would be used back and forth frequently.
* It does not parse the server side timestamp, so don't expect too much for the diagnosis of issues happened between machines without good time syncing (or no time syncing at all!).
* The parsing speed is not good also, about 2 seconds per log file (about 10MB per file).

### Why this tool?

* Quite compact output layout, which enables more efficient log analysis even on large screen (at least my eyes are saved from daytime REM!).
* Support to parse both client-side and server-side timestamps, which means that it's much easier for the tracing of event stream between machines and also for the troubleshooting of time sync issues.
* Much faster parsing speed, about 0.1 second per log file (on my daily used laptop since 2021, with 11th generation i5 and SSD equipped).
* Also support file-to-file parsing (one raw log file to one parsed log file).

## Usage

### Traditional Way (Not Recommended)

 * Copy `uihlog.exe` into the folder with raw log files and run it, then all the parsed log files would come out (only by log source).

### Modern Way

* Keep `uihlog.exe` and the batch scripts under `utils` in the same folder on your computer.
* Run `install.bat` to integrate `uihlog.exe` into context menu (shell extension), which could be undone by running `uninstall.bat`.
  * Currently `Directory` and `.uihlog` are registered to enable folder parsing and file-to-file parsing.
* [Optional] Run `pid_output_enable.bat` to enable parsed output by log PID, which could be undone by running `pid_output_disable.bat`.
  * PID output is not turned on by default, since in most cases I don't need it ...
* Then you could right click on log folder or single log file to parse it!
  * It's also okay to double click the log file for file-to-file parsing.

## Future
* Fast parsing speed makes some fancy log analysis application possible? Like in memory parsing, etc.
* Better to be named as uihlog-rs? ;-)
